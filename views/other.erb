<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Other contest | RiPPro</title>
  <% @path = '../' %>
  <%= erb :import %>
</head>
<body>
<%= erb :header %>
  
<div class="wrapper">  
  
  <div class='center'>
    <table class="striped centered">
      <thead>
        <tr>
          <th rowspan="2">rank</th>
          <th rowspan="2">name</th>
          <% @users.each do |user| %>
            <th id=<%= user %>><%= user[0..4] %>
            </th>
          <% end%> 
        </tr>
      </thead>
      <tbody>
        <% past = "" %>
        <% @contests.sort_by{|a| a[:contest] }.each do |contest| %>
          <% if contest[:contest].to_s.match(/abc/) or contest[:contest].to_s.match(/arc/) or contest[:contest].to_s.match(/agc/) %>
            <% next %>
          <% end %>
          <% if past != contest[:contest] %>
            <tr>
              <td colspan="<%= @users.length + 3%>"  class="center grey darken-4">
                <%= contest[:contest] %>          
              </td>
            </tr>
          <% end %>
          <% past = contest[:contest] %>
          <tr>
            <td class=""><%= contest[:name][0] %></td>
            <td class=""><a href="http://<%= contest[:contest] %>.contest.atcoder.jp/tasks/<%= contest[:id] %>"><%= contest[:name].split('.')[1] %></a></td>
            <% @users.each do |user| %>
            <% if not @solved[user].find{|item| item == contest[:id]}.nil? %>
                  <td class="light-green lighten-">
                    <p class="" title=<%= user %>></p>
                  </td>
                <% else %>
                  <td class="">
                  </td>
              <% end %>
            <% end %>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
</body>
</html>